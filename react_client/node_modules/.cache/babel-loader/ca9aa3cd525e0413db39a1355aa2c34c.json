{"ast":null,"code":"var _jsxFileName = \"/Users/bentilden/Documents/GitHub/TextMessageControlCenterReact/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Headroom from \"react-headroom\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nconst api = {\n  baseUrl: 'https://api.twilio.com',\n  accountSid: 'AC02c3544de9e4cd1c8f4c8bcbac203227',\n  authToken: 'b5c4a0f28c439a59abb20eb0dc0c7e06'\n};\n\nclass SentMessages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allMessages: [],\n      loaded: false,\n      nextPage: null,\n      hasMoreItems: true\n    };\n  }\n\n  componentDidMount() {\n    let authHeaders = new Headers();\n    authHeaders.append('Authorization', 'Basic ' + Buffer.from(api.accountSid + \":\" + api.authToken).toString('base64'));\n    const obj = {\n      method: 'GET',\n      headers: authHeaders\n    };\n    fetch('/messages').then(res => res.json()).then(json => this.setState({\n      allMessages: json.messages,\n      loaded: true\n    })).catch(err => this.setState({\n      loaded: true\n    }));\n  } //   fetch('https://api.twilio.com/2010-04-01/Accounts/' +\n  //         'AC02c3544de9e4cd1c8f4c8bcbac203227/' +\n  //         'Messages.json?PageSize=10&Page=0', obj)\n  //     .then(res => res.json())\n  //     .then(json => this.setState({\n  //                                   allMessages: json.messages,\n  //                                   loaded: true\n  //                                 }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  // }\n  // loadNextPage(page) {\n  //   const url = api.baseUrl + this.state.allMessages.nextPage; //change\n  //   // if(this.state.nextHref) {\n  //   //     url = this.state.nextHref;\n  //   // }\n  //   fetch(url)\n  //     .then(res => res.json())\n  //     .then(loadedMessages => this.setState({ allMessages: loadedMessages, loaded: true }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  //       //   function(xhr, resp) {\n  //       //     if(resp) {\n  //       //         var tracks = self.state.tracks;\n  //       //         resp.collection.map((track) => {\n  //       //             if(track.artwork_url == null) {\n  //       //                 track.artwork_url = track.user.avatar_url;\n  //       //             }\n  //       //             tracks.push(track);\n  //       //         });\n  //       //         if(resp.next_href) {\n  //       //             self.setState({\n  //       //                 tracks: tracks,\n  //       //                 nextHref: resp.next_href\n  //       //             });\n  //       //         } else {\n  //       //             self.setState({\n  //       //                 hasMoreItems: false\n  //       //             });\n  //       //         }\n  //       //     }\n  //       // });\n  // }\n\n\n  render() {\n    if (this.state.allMessages.length === 0 && this.state.loaded === false) {\n      return React.createElement(\"p\", {\n        className: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Loading messages...\");\n    } else if (this.state.allMessages.length === 0 && this.state.loaded === true) {\n      return React.createElement(\"p\", {\n        className: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"No messages to be found.\");\n    } else {\n      return React.createElement(\"div\", {\n        className: \"messageFeed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.allMessages.map(message => React.createElement(\"div\", {\n        key: message.id,\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, message.body), React.createElement(\"p\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, message.date_sent), React.createElement(\"p\", {\n        className: \"rec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, message.to), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, message.nextPage))));\n    }\n  } //   render() {\n  //     const loader = <p className=\"loader\">Loading messages...</p>;\n  //     var items = [];\n  //     this.state.allMessages.map(message => {\n  //       items.push(\n  //         <div key={message.id} className=\"message\">\n  //         <p className=\"body\">{message.body}</p>\n  //         <p className=\"date\">{message.date}</p>\n  //         <p className=\"rec\">{message.rec}</p>\n  //       </div>\n  //       );\n  //       return items;\n  //     });\n  //     return (\n  //         <InfiniteScroll\n  //             pageStart={0}\n  //             loadMore={this.loadItems.bind(this)}\n  //             hasMore={this.state.hasMoreItems}\n  //             loader={loader}>\n  //             <div className=\"tracks\">\n  //                 {items}\n  //             </div>\n  //         </InfiniteScroll>\n  //     );\n  // }\n\n\n}\n\nfunction App() {\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Headroom, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"App-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logo,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Mantra Health\"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Messages\"), React.createElement(SentMessages, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/bentilden/Documents/GitHub/TextMessageControlCenterReact/src/App.js"],"names":["React","Headroom","InfiniteScroll","api","baseUrl","accountSid","authToken","SentMessages","Component","constructor","props","state","allMessages","loaded","nextPage","hasMoreItems","componentDidMount","authHeaders","Headers","append","Buffer","from","toString","obj","method","headers","fetch","then","res","json","setState","messages","catch","err","render","length","map","message","id","body","date_sent","to","App","logo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Headroom from \"react-headroom\";\nimport InfiniteScroll from \"react-infinite-scroller\";\n\nconst api = {\n  baseUrl: 'https://api.twilio.com',\n  accountSid: 'AC02c3544de9e4cd1c8f4c8bcbac203227',\n  authToken: 'b5c4a0f28c439a59abb20eb0dc0c7e06'\n};\n\nclass SentMessages extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n        allMessages: [],\n        loaded: false,\n        nextPage: null,\n        hasMoreItems: true\n      }\n  }\n\n  componentDidMount() {\n    let authHeaders = new Headers();\n\n    authHeaders.append('Authorization', 'Basic ' + Buffer.from(api.accountSid + \":\" + api.authToken).toString('base64'));\n\n    const obj = {  \n      method: 'GET',\n      headers: authHeaders\n    };\n\n    fetch('/messages')\n      .then(res => res.json())\n      .then(json => this.setState({\n              allMessages: json.messages,\n              loaded: true\n            }))\n      .catch((err) => this.setState({ loaded: true }));\n  }\n\n  //   fetch('https://api.twilio.com/2010-04-01/Accounts/' +\n  //         'AC02c3544de9e4cd1c8f4c8bcbac203227/' +\n  //         'Messages.json?PageSize=10&Page=0', obj)\n  //     .then(res => res.json())\n  //     .then(json => this.setState({\n  //                                   allMessages: json.messages,\n  //                                   loaded: true\n  //                                 }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  // }\n\n  // loadNextPage(page) {\n\n  //   const url = api.baseUrl + this.state.allMessages.nextPage; //change\n  //   // if(this.state.nextHref) {\n  //   //     url = this.state.nextHref;\n  //   // }\n\n  //   fetch(url)\n  //     .then(res => res.json())\n  //     .then(loadedMessages => this.setState({ allMessages: loadedMessages, loaded: true }))\n  //     .catch((err) => this.setState({ loaded: true }));\n          \n  //       //   function(xhr, resp) {\n  //       //     if(resp) {\n  //       //         var tracks = self.state.tracks;\n  //       //         resp.collection.map((track) => {\n  //       //             if(track.artwork_url == null) {\n  //       //                 track.artwork_url = track.user.avatar_url;\n  //       //             }\n\n  //       //             tracks.push(track);\n  //       //         });\n\n  //       //         if(resp.next_href) {\n  //       //             self.setState({\n  //       //                 tracks: tracks,\n  //       //                 nextHref: resp.next_href\n  //       //             });\n  //       //         } else {\n  //       //             self.setState({\n  //       //                 hasMoreItems: false\n  //       //             });\n  //       //         }\n  //       //     }\n  //       // });\n  // }\n  render() {\n    if (this.state.allMessages.length === 0 && this.state.loaded === false) {\n      return <p className=\"status\">Loading messages...</p>\n    } else if (this.state.allMessages.length === 0 && this.state.loaded === true) {\n      return <p className=\"status\">No messages to be found.</p>\n    } else {\n      return (\n        <div className=\"messageFeed\">\n          {this.state.allMessages.map((message) =>\n            <div key={message.id} className=\"message\">\n              <p className=\"body\">{message.body}</p>\n              <p className=\"date\">{message.date_sent}</p>\n              <p className=\"rec\">{message.to}</p>\n              <p>{message.nextPage}</p>\n            </div>\n          )}\n        </div>\n      )\n    }\n  }\n//   render() {\n//     const loader = <p className=\"loader\">Loading messages...</p>;\n\n//     var items = [];\n//     this.state.allMessages.map(message => {\n//       items.push(\n//         <div key={message.id} className=\"message\">\n//         <p className=\"body\">{message.body}</p>\n//         <p className=\"date\">{message.date}</p>\n//         <p className=\"rec\">{message.rec}</p>\n//       </div>\n//       );\n//       return items;\n//     });\n\n//     return (\n//         <InfiniteScroll\n//             pageStart={0}\n//             loadMore={this.loadItems.bind(this)}\n//             hasMore={this.state.hasMoreItems}\n//             loader={loader}>\n\n//             <div className=\"tracks\">\n//                 {items}\n//             </div>\n//         </InfiniteScroll>\n//     );\n// }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Headroom>\n        <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1>Mantra Health</h1>\n        </div>\n      </Headroom>\n      <div>\n        <h2>Messages</h2>\n        <SentMessages />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}