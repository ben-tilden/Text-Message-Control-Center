{"ast":null,"code":"var _jsxFileName = \"/Users/bentilden/Documents/GitHub/TextMessageControlCenterReact/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Headroom from \"react-headroom\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nconst api = {\n  baseUrl: 'https://api.twilio.com'\n};\n\nclass SentMessages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allMessages: [],\n      nextPage: null,\n      hasMoreItems: true\n    };\n  }\n\n  componentDidMount() {\n    let nextPageUrl = 'https://api.twilio.com';\n    const obj = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        url: nextPageUrl\n      })\n    };\n    fetch('localhost:3001/messages', obj).then(res => {\n      console.log(res);\n    });\n  } //   fetch('/messages')\n  //     .then(res => res.json())\n  //     .then(res => this.setState({\n  //             allMessages: res.messages,\n  //             nextPage: res.next_page_uri\n  //           }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  // }\n  //   fetch('https://api.twilio.com/2010-04-01/Accounts/' +\n  //         'AC02c3544de9e4cd1c8f4c8bcbac203227/' +\n  //         'Messages.json?PageSize=10&Page=0', obj)\n  //     .then(res => res.json())\n  //     .then(json => this.setState({\n  //                                   allMessages: json.messages,\n  //                                   loaded: true\n  //                                 }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  // }\n\n\n  loadNextPage(page) {\n    var self = this;\n    let nextPageUrl = \"\";\n\n    if (this.state.nextPage) {\n      nextPageUrl = api.baseUrl + this.state.nextPage;\n    }\n\n    const obj = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        url: nextPageUrl\n      })\n    };\n    fetch('/messages', obj).then(res => res.json()).then(res => {\n      if (res) {\n        var updatedMessages = self.state.allMessages;\n        res.messages.map(message => {\n          updatedMessages.push(message);\n        });\n\n        if (res.nextPage) {\n          self.setState({\n            allMessages: updatedMessages,\n            nextPage: res.nextPage\n          });\n        }\n      } else {\n        self.setState({\n          hasMoreItems: false\n        });\n      }\n    }).catch(() => this.setState({\n      loaded: true\n    })); //   function(xhr, resp) {\n    //     if(resp) {\n    //         var tracks = self.state.tracks;\n    //         resp.collection.map((track) => {\n    //             if(track.artwork_url == null) {\n    //                 track.artwork_url = track.user.avatar_url;\n    //             }\n    //             tracks.push(track);\n    //         });\n    //         if(resp.next_href) {\n    //             self.setState({\n    //                 tracks: tracks,\n    //                 nextHref: resp.next_href\n    //             });\n    //         } else {\n    //             self.setState({\n    //                 hasMoreItems: false\n    //             });\n    //         }\n    //     }\n    // });\n  } // render() {\n  //   if (this.state.allMessages.length === 0 && this.state.loaded === false) {\n  //     return <p className=\"status\">Loading messages...</p>\n  //   } else if (this.state.allMessages.length === 0 && this.state.loaded === true) {\n  //     return <p className=\"status\">No messages to be found.</p>\n  //   } else {\n  //     return (\n  //       <div className=\"messageFeed\">\n  //         {this.state.allMessages.map((message) =>\n  //           <div key={message.id} className=\"message\">\n  //             <p className=\"body\">{message.body}</p>\n  //             <p className=\"date\">{message.date_sent}</p>\n  //             <p className=\"rec\">{message.to}</p>\n  //             <p>{message.nextPage}</p>\n  //           </div>\n  //         )}\n  //       </div>\n  //     )\n  //   }\n  // }\n\n\n  render() {\n    return; // const loader = <p className=\"loader\">Loading messages...</p>;\n    // var items = [];\n    // this.state.allMessages.map(message => {\n    //   items.push(\n    //     <div key={message.id} className=\"message\">\n    //     <p className=\"body\">{message.body}</p>\n    //     <p className=\"date\">{message.date}</p>\n    //     <p className=\"rec\">{message.rec}</p>\n    //   </div>\n    //   );\n    //   return items;\n    // });\n    // return (\n    //     <InfiniteScroll\n    //         pageStart={0}\n    //         loadMore={this.loadNextPage.bind(this)}\n    //         hasMore={this.state.hasMoreItems}\n    //         loader={loader}>\n    //         <div className=\"messageFeed\">\n    //             {items}\n    //         </div>\n    //     </InfiniteScroll>\n    // );\n  }\n\n}\n\nfunction App() {\n  return (// <div className=\"App\">\n    //   <Headroom>\n    //     <div className=\"App-header\">\n    //       <img src={logo} className=\"App-logo\" alt=\"logo\" />\n    //       <h1>Mantra Health</h1>\n    //     </div>\n    //   </Headroom>\n    //   <div>\n    //     <h2>Messages</h2>\n    React.createElement(SentMessages, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }) //   </div>\n    // </div>\n\n  );\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/bentilden/Documents/GitHub/TextMessageControlCenterReact/src/App.js"],"names":["React","Headroom","InfiniteScroll","api","baseUrl","SentMessages","Component","constructor","props","state","allMessages","nextPage","hasMoreItems","componentDidMount","nextPageUrl","obj","method","headers","body","JSON","stringify","url","fetch","then","res","console","log","loadNextPage","page","self","json","updatedMessages","messages","map","message","push","setState","catch","loaded","render","App"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AAEA,MAAMC,GAAG,GAAG;AACVC,EAAAA,OAAO,EAAE;AADC,CAAZ;;AAIA,MAAMC,YAAN,SAA2BL,KAAK,CAACM,SAAjC,CAA2C;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,EADF;AAEXC,MAAAA,QAAQ,EAAE,IAFC;AAGXC,MAAAA,YAAY,EAAE;AAHH,KAAb;AAKH;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,WAAW,GAAG,wBAAlB;AAEJ,UAAMC,GAAG,GAAG;AACRC,MAAAA,MAAM,EAAE,MADA;AAERC,MAAAA,OAAO,EAAE;AACT,wBAAgB;AADP,OAFD;AAKRC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,GAAG,EAAGP;AADW,OAAf;AALE,KAAZ;AASAQ,IAAAA,KAAK,CAAC,yBAAD,EAA4BP,GAA5B,CAAL,CACKQ,IADL,CACUC,GAAG,IAAI;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkB,KADpC;AAEC,GAxB0C,CAyBzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAG,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjB,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIf,WAAW,GAAG,EAAlB;;AACA,QAAI,KAAKL,KAAL,CAAWE,QAAf,EAAyB;AACvBG,MAAAA,WAAW,GAAGX,GAAG,CAACC,OAAJ,GAAc,KAAKK,KAAL,CAAWE,QAAvC;AACD;;AACD,UAAMI,GAAG,GAAG;AACVC,MAAAA,MAAM,EAAE,MADE;AAEVC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFC;AAKVC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,GAAG,EAAGP;AADa,OAAf;AALI,KAAZ;AASAQ,IAAAA,KAAK,CAAC,WAAD,EAAcP,GAAd,CAAL,CACGQ,IADH,CACQC,GAAG,IAAIA,GAAG,CAACM,IAAJ,EADf,EAEGP,IAFH,CAEQC,GAAG,IAAI;AACX,UAAIA,GAAJ,EAAS;AACP,YAAIO,eAAe,GAAGF,IAAI,CAACpB,KAAL,CAAWC,WAAjC;AACAc,QAAAA,GAAG,CAACQ,QAAJ,CAAaC,GAAb,CAAiBC,OAAO,IAAI;AAC1BH,UAAAA,eAAe,CAACI,IAAhB,CAAqBD,OAArB;AACD,SAFD;;AAGA,YAAIV,GAAG,CAACb,QAAR,EAAkB;AAChBkB,UAAAA,IAAI,CAACO,QAAL,CAAc;AACZ1B,YAAAA,WAAW,EAAEqB,eADD;AAEZpB,YAAAA,QAAQ,EAAEa,GAAG,CAACb;AAFF,WAAd;AAID;AACF,OAXD,MAWO;AACLkB,QAAAA,IAAI,CAACO,QAAL,CAAc;AACZxB,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD;AACF,KAnBH,EAoBGyB,KApBH,CAoBS,MAAM,KAAKD,QAAL,CAAc;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAAd,CApBf,EAfiB,CAuCb;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACL,GA3GwC,CA4GzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,EAAAA,MAAM,GAAG;AACP,WADO,CAEP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACH;;AA5J0C;;AA+J3C,SAASC,GAAT,GAAe;AACb,SACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI,wBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVN,CAWE;AACA;;AAZF;AAcD;;AAED,eAAeA,GAAf","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Headroom from \"react-headroom\";\nimport InfiniteScroll from \"react-infinite-scroller\";\n\nconst api = {\n  baseUrl: 'https://api.twilio.com'\n};\n\nclass SentMessages extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n        allMessages: [],\n        nextPage: null,\n        hasMoreItems: true\n      }\n  }\n\n  componentDidMount() {\n    let nextPageUrl = 'https://api.twilio.com';\n\nconst obj = {\n    method: 'POST',\n    headers: {\n    'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n        url : nextPageUrl\n    })\n};\nfetch('localhost:3001/messages', obj)\n    .then(res => {console.log(res);});\n}\n  //   fetch('/messages')\n  //     .then(res => res.json())\n  //     .then(res => this.setState({\n  //             allMessages: res.messages,\n  //             nextPage: res.next_page_uri\n  //           }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  // }\n\n  //   fetch('https://api.twilio.com/2010-04-01/Accounts/' +\n  //         'AC02c3544de9e4cd1c8f4c8bcbac203227/' +\n  //         'Messages.json?PageSize=10&Page=0', obj)\n  //     .then(res => res.json())\n  //     .then(json => this.setState({\n  //                                   allMessages: json.messages,\n  //                                   loaded: true\n  //                                 }))\n  //     .catch((err) => this.setState({ loaded: true }));\n  // }\n\n  loadNextPage(page) {\n    var self = this;\n    let nextPageUrl = \"\";\n    if (this.state.nextPage) {\n      nextPageUrl = api.baseUrl + this.state.nextPage;\n    }\n    const obj = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        url : nextPageUrl\n      })\n    };\n    fetch('/messages', obj)\n      .then(res => res.json())\n      .then(res => {\n        if (res) {\n          var updatedMessages = self.state.allMessages;\n          res.messages.map(message => {\n            updatedMessages.push(message);\n          })\n          if (res.nextPage) {\n            self.setState({\n              allMessages: updatedMessages,\n              nextPage: res.nextPage\n            });\n          }\n        } else {\n          self.setState({\n            hasMoreItems: false\n          });\n        }\n      })\n      .catch(() => this.setState({ loaded: true }));\n\n\n          \n        //   function(xhr, resp) {\n        //     if(resp) {\n        //         var tracks = self.state.tracks;\n        //         resp.collection.map((track) => {\n        //             if(track.artwork_url == null) {\n        //                 track.artwork_url = track.user.avatar_url;\n        //             }\n\n        //             tracks.push(track);\n        //         });\n\n        //         if(resp.next_href) {\n        //             self.setState({\n        //                 tracks: tracks,\n        //                 nextHref: resp.next_href\n        //             });\n        //         } else {\n        //             self.setState({\n        //                 hasMoreItems: false\n        //             });\n        //         }\n        //     }\n        // });\n  }\n  // render() {\n  //   if (this.state.allMessages.length === 0 && this.state.loaded === false) {\n  //     return <p className=\"status\">Loading messages...</p>\n  //   } else if (this.state.allMessages.length === 0 && this.state.loaded === true) {\n  //     return <p className=\"status\">No messages to be found.</p>\n  //   } else {\n  //     return (\n  //       <div className=\"messageFeed\">\n  //         {this.state.allMessages.map((message) =>\n  //           <div key={message.id} className=\"message\">\n  //             <p className=\"body\">{message.body}</p>\n  //             <p className=\"date\">{message.date_sent}</p>\n  //             <p className=\"rec\">{message.to}</p>\n  //             <p>{message.nextPage}</p>\n  //           </div>\n  //         )}\n  //       </div>\n  //     )\n  //   }\n  // }\n  render() {\n    return;\n    // const loader = <p className=\"loader\">Loading messages...</p>;\n\n    // var items = [];\n    // this.state.allMessages.map(message => {\n    //   items.push(\n    //     <div key={message.id} className=\"message\">\n    //     <p className=\"body\">{message.body}</p>\n    //     <p className=\"date\">{message.date}</p>\n    //     <p className=\"rec\">{message.rec}</p>\n    //   </div>\n    //   );\n    //   return items;\n    // });\n\n    // return (\n    //     <InfiniteScroll\n    //         pageStart={0}\n    //         loadMore={this.loadNextPage.bind(this)}\n    //         hasMore={this.state.hasMoreItems}\n    //         loader={loader}>\n\n    //         <div className=\"messageFeed\">\n    //             {items}\n    //         </div>\n    //     </InfiniteScroll>\n    // );\n}\n}\n\nfunction App() {\n  return (\n    // <div className=\"App\">\n    //   <Headroom>\n    //     <div className=\"App-header\">\n    //       <img src={logo} className=\"App-logo\" alt=\"logo\" />\n    //       <h1>Mantra Health</h1>\n    //     </div>\n    //   </Headroom>\n    //   <div>\n    //     <h2>Messages</h2>\n        <SentMessages />\n    //   </div>\n    // </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}